<!DOCTYPE html>
<html lang='en'>

<head>
  <meta charset='utf8'>
  <title>describe</title>


  <!-- testing dependencies -->
  <script src='../lib/chai.js'></script>
  <script src='../lib/describe-it.js'></script>

</head>

<body>

  <script>
    debugger;
    // use breakpoints! it will make this easier to study
    //  there is a comment on each line you should breakpoint

    console.log('-- describe');


    describe('describe is a function that helps to organize test results', () => {
      it('prints "PASS" when there are no errors', () => {
        // hello!
      });
      it('prints "FAIL" when there is an error', () => {
        // click on the failing log to read more
        throw new Error('hello!');
      });
    });
    describe('describe does not report passing or failing', () => {
      // an error inside describe is called a "suite error"
      throw new Error('hello!');
      // this doesn't mean a test failed
      // it just means there was an error :(
    });



    console.log('all together');

    /**
     * repeats a string a given number of times
     * @param {string} str - the string to repeat
     * @param {number} repeats - cannot be less than 0
     * @returns {string} the string, repeated
     */
    const repeatString = (str, repeats) => {
      if (repeats < 0) {
        return 'repeats cannot be less than 0';
      }

      let repeated = '';
      for (let i = 0; i <= repeats; i++) {
        repeated += str;
      }
      return repeated;
    };

    // assign chai.assert to a separate variable
    //  this makes reading and debugging simpler
    const assert = chai.assert;

    // run the tests!
    describe('repeatString: repeats strings a given number of times', () => {
      it('repeats the empty string 3 times', () => {
        const expected = ''; // breakpoint here
        const actual = repeatString('', 3);
        assert.strictEqual(actual, expected);
      });
      it('repeats non-empty strings 3 times', () => {
        const expected = 'hihihi'; // breakpoint here
        const actual = repeatString('hi', 3);
        assert.strictEqual(actual, expected);
      });
      it('repeats empty strings 0 times', () => {
        const expected = ''; // breakpoint here
        const actual = repeatString('', 0);
        assert.strictEqual(actual, expected);
      });
      it('repeats non-empty strings 0 times', () => {
        const expected = ''; // breakpoint here
        const actual = repeatString('hi', 0);
        assert.strictEqual(actual, expected);
      });
      it('second argument must be greater than 0', () => {
        const expected = 'repeats cannot be less than 0'; // breakpoint here
        const actual = repeatString(':(', -1);
        assert.strictEqual(actual, expected);
      });
    });

  </script>

</body>

</html>
